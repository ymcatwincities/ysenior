!function(e,t){"use strict";function a(e){function a(){var e=this.contentWindow,t=e||this.contentDocument;t&&t.document&&(t=t.document),null!==t&&(t.body.style.overflow="hidden")}function l(e){if(e.preventDefault(),""===d)return!1;var t=this,l=t.parentNode,n=document.querySelector(".is-playing"),r=l.querySelector("iframe"),i=d=t.getAttribute("data-autoplay");d=t.getAttribute("data-url"),i||(i=d),null!==n&&(n.className=n.className.replace(/(\S+)playing/,"")),l.className+=" is-playing",c=document.createElement("iframe"),c.className="media__iframe media__element",c.setAttribute("src",d.indexOf("/oembed")>0?d:i),c.setAttribute("allowfullscreen",!0),null!==r&&l.removeChild(r),d.indexOf("/oembed")>0&&c.addEventListener("load",a),l.appendChild(c)}function n(e){e.preventDefault();var t=this,a=t.parentNode,l=a.querySelector("iframe.media__element");a.className.match("is-playing")&&(a.className=a.className.replace(/(\S+)playing/,"")),null!==l&&a.removeChild(l)}var r=e,i=r.querySelector("iframe"),o=r.querySelector(".media__icon--play");if(null===o)return void(i&&i.getAttribute("data-src")&&i.getAttribute("data-src").indexOf("/oembed")>0&&i.addEventListener("load",a));var c,d=o.getAttribute("data-url");null!==i&&null!=i.parentNode&&i.parentNode.removeChild(i),t.on(r,"click",".media__icon--play",l),t.on(r,"click",".media__icon--close",n),r.className+=" media--player--on"}e.behaviors.blazyMedia={attach:function(e){var l=e.querySelectorAll(".media--player:not(.media--player--on)");t.once(t.forEach(l,a))}}}(Drupal,dBlazy);
